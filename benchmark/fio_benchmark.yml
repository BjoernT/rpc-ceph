---
- name: Run pre-check
  hosts:
    - localhost
  tasks:
    - name: fail when none of the benchmarks are chosen
      fail:
        msg: "Set atleast one of the benchmark options to true. Options are: bench_direct_EBS, bench_file, bench_direct_RBD"
      when: not ((bench_direct_EBS | default(false)) or (bench_file | default(false)) or (bench_direct_RBD | default(false)))

- include: fio_bench/fio_benchmark_setup.yml
- include: fio_bench/fio_benchmark_run.yml
- include: fio_bench/fio_benchmark_cleanup.yml
